{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/dashborad/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"button\": \"page-module__MkNCsW__button\",\n  \"container\": \"page-module__MkNCsW__container\",\n  \"delete\": \"page-module__MkNCsW__delete\",\n  \"img\": \"page-module__MkNCsW__img\",\n  \"imgContainer\": \"page-module__MkNCsW__imgContainer\",\n  \"input\": \"page-module__MkNCsW__input\",\n  \"new\": \"page-module__MkNCsW__new\",\n  \"post\": \"page-module__MkNCsW__post\",\n  \"posts\": \"page-module__MkNCsW__posts\",\n  \"textArea\": \"page-module__MkNCsW__textArea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Dagtal-Agenced/my-app/src/app/dashborad/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styles from \"./page.module.css\";\r\nimport useSWR from \"swr\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Image from \"next/image\";\r\n\r\nconst Dashboard = () => {\r\n\r\n  //OLD WAY TO FETCH DATA\r\n\r\n  // const [data, setData] = useState([]);\r\n  // const [err, setErr] = useState(false);\r\n  // const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // useEffect(() => {\r\n  //   const getData = async () => {\r\n  //     setIsLoading(true);\r\n  //     const res = await fetch(\"https://jsonplaceholder.typicode.com/posts\", {\r\n  //       cache: \"no-store\",\r\n  //     });\r\n\r\n  //     if (!res.ok) {\r\n  //       setErr(true);\r\n  //     }\r\n\r\n  //     const data = await res.json()\r\n\r\n  //     setData(data);\r\n  //     setIsLoading(false);\r\n  //   };\r\n  //   getData()\r\n  // }, []);\r\n\r\n  const session = useSession();\r\n\r\n  const router = useRouter();\r\n  \r\n  //NEW WAY TO FETCH DATA\r\n  const fetcher = (...args) => fetch(...args).then((res) => res.json());\r\n\r\n  const { data, mutate, error, isLoading } = useSWR(\r\n    `/api/posts?username=${session?.data?.user.name}`,\r\n    fetcher\r\n  );\r\n\r\n  if (session.status === \"loading\") {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (session.status === \"unauthenticated\") {\r\n    router?.push(\"/dashboard/login\");\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const title = e.target[0].value;\r\n    const desc = e.target[1].value;\r\n    const img = e.target[2].value;\r\n    const content = e.target[3].value;\r\n\r\n    try {\r\n      await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          title,\r\n          desc,\r\n          img,\r\n          content,\r\n          username: session.data.user.name,\r\n        }),\r\n      });\r\n      mutate();\r\n      e.target.reset()\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await fetch(`/api/posts/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      mutate();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  if (session.status === \"authenticated\") {\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.posts}>\r\n          {isLoading\r\n            ? \"loading\"\r\n            : data?.map((post) => (\r\n                <div className={styles.post} key={post._id}>\r\n                  <div className={styles.imgContainer}>\r\n                    <Image src={post.img} alt=\"\" width={200} height={100} />\r\n                  </div>\r\n                  <h2 className={styles.postTitle}>{post.title}</h2>\r\n                  <span\r\n                    className={styles.delete}\r\n                    onClick={() => handleDelete(post._id)}\r\n                  >\r\n                    X\r\n                  </span>\r\n                </div>\r\n              ))}\r\n        </div>\r\n        <form className={styles.new} onSubmit={handleSubmit}>\r\n          <h1>Add New Post</h1>\r\n          <input type=\"text\" placeholder=\"Title\" className={styles.input} />\r\n          <input type=\"text\" placeholder=\"Desc\" className={styles.input} />\r\n          <input type=\"text\" placeholder=\"Image\" className={styles.input} />\r\n          <textarea\r\n            placeholder=\"Content\"\r\n            className={styles.textArea}\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></textarea>\r\n          <button className={styles.button}>Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Dashboard;"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;;;AAHA;;;;;;;AAQA,MAAM,YAAY;;IAEhB,uBAAuB;IAEvB,wCAAwC;IACxC,yCAAyC;IACzC,qDAAqD;IAErD,oBAAoB;IACpB,kCAAkC;IAClC,0BAA0B;IAC1B,8EAA8E;IAC9E,2BAA2B;IAC3B,UAAU;IAEV,qBAAqB;IACrB,sBAAsB;IACtB,QAAQ;IAER,oCAAoC;IAEpC,qBAAqB;IACrB,2BAA2B;IAC3B,OAAO;IACP,cAAc;IACd,UAAU;IAEV,MAAM,UAAU,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;IAEzB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,uBAAuB;IACvB,MAAM,UAAU,CAAC,GAAG,OAAS,SAAS,MAAM,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;IAElE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,gKAAA,CAAA,UAAM,AAAD,EAC9C,CAAC,oBAAoB,EAAE,SAAS,MAAM,KAAK,MAAM,EACjD;IAGF,IAAI,QAAQ,MAAM,KAAK,WAAW;QAChC,qBAAO,6LAAC;sBAAE;;;;;;IACZ;IAEA,IAAI,QAAQ,MAAM,KAAK,mBAAmB;QACxC,QAAQ,KAAK;IACf;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAC/B,MAAM,OAAO,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAC9B,MAAM,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAC7B,MAAM,UAAU,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAEjC,IAAI;YACF,MAAM,MAAM,cAAc;gBACxB,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;oBACA;oBACA,UAAU,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI;gBAClC;YACF;YACA;YACA,EAAE,MAAM,CAAC,KAAK;QAChB,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;gBAC9B,QAAQ;YACV;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,IAAI,QAAQ,MAAM,KAAK,iBAAiB;QACtC,qBACE,6LAAC;YAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,SAAS;;8BAC9B,6LAAC;oBAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;8BACzB,YACG,YACA,MAAM,IAAI,CAAC,qBACT,6LAAC;4BAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,IAAI;;8CACzB,6LAAC;oCAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,YAAY;8CACjC,cAAA,6LAAC,gIAAA,CAAA,UAAK;wCAAC,KAAK,KAAK,GAAG;wCAAE,KAAI;wCAAG,OAAO;wCAAK,QAAQ;;;;;;;;;;;8CAEnD,6LAAC;oCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,SAAS;8CAAG,KAAK,KAAK;;;;;;8CAC5C,6LAAC;oCACC,WAAW,8IAAA,CAAA,UAAM,CAAC,MAAM;oCACxB,SAAS,IAAM,aAAa,KAAK,GAAG;8CACrC;;;;;;;2BAR+B,KAAK,GAAG;;;;;;;;;;8BAclD,6LAAC;oBAAK,WAAW,8IAAA,CAAA,UAAM,CAAC,GAAG;oBAAE,UAAU;;sCACrC,6LAAC;sCAAG;;;;;;sCACJ,6LAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAQ,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;;;;;sCAC9D,6LAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAO,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;;;;;sCAC7D,6LAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAQ,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;;;;;sCAC9D,6LAAC;4BACC,aAAY;4BACZ,WAAW,8IAAA,CAAA,UAAM,CAAC,QAAQ;4BAC1B,MAAK;4BACL,MAAK;;;;;;sCAEP,6LAAC;4BAAO,WAAW,8IAAA,CAAA,UAAM,CAAC,MAAM;sCAAE;;;;;;;;;;;;;;;;;;IAI1C;AACF;GAxHM;;QA2BY,iJAAA,CAAA,aAAU;QAEX,qIAAA,CAAA,YAAS;QAKmB,gKAAA,CAAA,UAAM;;;KAlC7C;uCA0HS"}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}