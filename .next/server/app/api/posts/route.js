(()=>{var e={};e.id=607,e.ids=[607],e.modules={56037:e=>{"use strict";e.exports=require("mongoose")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},19133:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>y,routeModule:()=>l,serverHooks:()=>w,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{GET:()=>c,POST:()=>d});var a=t(42706),n=t(28203),o=t(45994),i=t(39187),u=t(63012),p=t(81381);let c=async e=>{let r=new URL(e.url).searchParams.get("username");try{await (0,u.A)();let e=await p.A.find(r&&{username:r});return new i.NextResponse(JSON.stringify(e),{status:200})}catch(e){return console.error("Database Error:",e),new i.NextResponse("Database Error",{status:500})}},d=async e=>{let r=await e.json(),t=new p.A(r);try{return await (0,u.A)(),await t.save(),new i.NextResponse(JSON.stringify(t),{status:201})}catch(e){return console.error("Database Error:",e),new i.NextResponse("Database Error",{status:500})}},l=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/posts/route",pathname:"/api/posts",filename:"route",bundlePath:"app/api/posts/route"},resolvedPagePath:"D:\\Dagtal-Agenced\\src\\app\\api\\posts\\route.js",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:x,serverHooks:w}=l;function y(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:x})}},96487:()=>{},78335:()=>{},81381:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(56037),a=t.n(s);let{Schema:n}=a(),o=new n({title:{type:String,required:!0},desc:{type:String,required:!0},content:{type:String,required:!0},username:{type:String,required:!0}},{timestamps:!0}),i=a().models.Post||a().model("Post",o)},63012:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(56037),a=t.n(s);let n=async()=>{try{await a().connect(process.env.MONGO,{useNewUrlParser:!0,useUnifiedTopology:!0}),console.log("MongoDB Connected")}catch(e){throw console.error("Connection failed!",e),Error("Connection failed!")}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452],()=>t(19133));module.exports=s})();