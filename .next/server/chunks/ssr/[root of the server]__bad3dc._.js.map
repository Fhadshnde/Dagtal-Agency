{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/dashborad/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"button\": \"page-module__MkNCsW__button\",\n  \"container\": \"page-module__MkNCsW__container\",\n  \"delete\": \"page-module__MkNCsW__delete\",\n  \"img\": \"page-module__MkNCsW__img\",\n  \"imgContainer\": \"page-module__MkNCsW__imgContainer\",\n  \"input\": \"page-module__MkNCsW__input\",\n  \"new\": \"page-module__MkNCsW__new\",\n  \"post\": \"page-module__MkNCsW__post\",\n  \"posts\": \"page-module__MkNCsW__posts\",\n  \"textArea\": \"page-module__MkNCsW__textArea\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Dagtal-Agenced/my-app/src/app/dashborad/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styles from \"./page.module.css\";\r\nimport useSWR from \"swr\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst Dashboard = () => {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const fetcher = (...args) => fetch(...args).then((res) => res.json());\r\n  const { data, mutate, error, isLoading } = useSWR(\r\n    status === \"authenticated\" ? `/api/posts?username=${session?.user?.name}` : null,\r\n    fetcher\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") {\r\n      router.push(\"/dashboard/login\");\r\n    }\r\n  }, [status, router]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const title = e.target[0].value;\r\n    const desc = e.target[1].value;\r\n    const content = e.target[2].value;\r\n\r\n    try {\r\n      await fetch(\"/api/posts\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          desc,\r\n          content,\r\n          username: session.user.name,\r\n        }),\r\n      });\r\n      mutate();\r\n      e.target.reset();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await fetch(`/api/posts/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      mutate();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  if (status === \"loading\") {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (status === \"authenticated\") {\r\n    return (\r\n      <div className={styles.container}>\r\n        <div className={styles.posts}>\r\n          {isLoading ? (\r\n            \"loading\"\r\n          ) : (\r\n            data?.map((post) => (\r\n              <div className={styles.post} key={post._id}>\r\n                <h2 className={styles.postTitle}>{post.title}</h2>\r\n                <p>{post.desc}</p>\r\n                <span\r\n                  className={styles.delete}\r\n                  onClick={() => handleDelete(post._id)}\r\n                >\r\n                  X\r\n                </span>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n        <form className={styles.new} onSubmit={handleSubmit}>\r\n          <h1>Add New Post</h1>\r\n          <input type=\"text\" placeholder=\"Title\" className={styles.input} />\r\n          <input type=\"text\" placeholder=\"Desc\" className={styles.input} />\r\n          <textarea\r\n            placeholder=\"Content\"\r\n            className={styles.textArea}\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></textarea>\r\n          <button className={styles.button}>Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;;;;;;;AAOA,MAAM,YAAY;IAChB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,UAAU,CAAC,GAAG,OAAS,SAAS,MAAM,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;IAClE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,6JAAA,CAAA,UAAM,AAAD,EAC9C,WAAW,kBAAkB,CAAC,oBAAoB,EAAE,SAAS,MAAM,MAAM,GAAG,MAC5E;IAGF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,mBAAmB;YAChC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAQ;KAAO;IAEnB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,QAAQ,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAC/B,MAAM,OAAO,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAC9B,MAAM,UAAU,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK;QAEjC,IAAI;YACF,MAAM,MAAM,cAAc;gBACxB,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA;oBACA;oBACA,UAAU,QAAQ,IAAI,CAAC,IAAI;gBAC7B;YACF;YACA;YACA,EAAE,MAAM,CAAC,KAAK;QAChB,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;gBAC9B,QAAQ;YACV;YACA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,IAAI,WAAW,WAAW;QACxB,qBAAO,8OAAC;sBAAE;;;;;;IACZ;IAEA,IAAI,WAAW,iBAAiB;QAC9B,qBACE,8OAAC;YAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,SAAS;;8BAC9B,8OAAC;oBAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;8BACzB,YACC,YAEA,MAAM,IAAI,CAAC,qBACT,8OAAC;4BAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,IAAI;;8CACzB,8OAAC;oCAAG,WAAW,8IAAA,CAAA,UAAM,CAAC,SAAS;8CAAG,KAAK,KAAK;;;;;;8CAC5C,8OAAC;8CAAG,KAAK,IAAI;;;;;;8CACb,8OAAC;oCACC,WAAW,8IAAA,CAAA,UAAM,CAAC,MAAM;oCACxB,SAAS,IAAM,aAAa,KAAK,GAAG;8CACrC;;;;;;;2BAN+B,KAAK,GAAG;;;;;;;;;;8BAahD,8OAAC;oBAAK,WAAW,8IAAA,CAAA,UAAM,CAAC,GAAG;oBAAE,UAAU;;sCACrC,8OAAC;sCAAG;;;;;;sCACJ,8OAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAQ,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;;;;;sCAC9D,8OAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAO,WAAW,8IAAA,CAAA,UAAM,CAAC,KAAK;;;;;;sCAC7D,8OAAC;4BACC,aAAY;4BACZ,WAAW,8IAAA,CAAA,UAAM,CAAC,QAAQ;4BAC1B,MAAK;4BACL,MAAK;;;;;;sCAEP,8OAAC;4BAAO,WAAW,8IAAA,CAAA,UAAM,CAAC,MAAM;sCAAE;;;;;;;;;;;;;;;;;;IAI1C;IAEA,OAAO;AACT;uCAEe"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}